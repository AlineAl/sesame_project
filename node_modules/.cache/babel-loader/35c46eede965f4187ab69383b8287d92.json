{"ast":null,"code":"import _defineProperty from\"/Users/aline/Desktop/Projects/sesame_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/aline/Desktop/Projects/sesame_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/aline/Desktop/Projects/sesame_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/aline/Desktop/Projects/sesame_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/aline/Desktop/Projects/sesame_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import ReactMarkdown from'react-markdown';import{Link}from\"react-router-dom\";import axios from'axios';import Carousel from'react-elastic-carousel';import carouselImage from'../images/ana-frantz-azRS34AdaaM-unsplash.jpg';import articleDetails from'../images/devin-avery-BRVqq2uak4E-unsplash.jpg';import arbreVie from'../images/—Pngtree—celtic life tree decoration pattern_6814309.png';import principalImage from'../images/stefan-stefancik-QXevDflbl8A-unsplash.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Oeuvretoi(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),articles=_useState4[0],setArticles=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),articleOeuvre=_useState6[0],setArticleOeuvre=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();try{_axios$post=axios.post('https://sesameoeuvretoiadmin.herokuapp.com/api/articles-oeuvres',{data:{titleOeuvre:articleOeuvre.titleOeuvre,contentOeuvre:articleOeuvre.contentOeuvre}}),data=_axios$post.data;console.log(data);}catch(error){console.log(error);}case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(_ref2){var currentTarget=_ref2.currentTarget;var name=currentTarget.name,value=currentTarget.value;setArticleOeuvre(_objectSpread(_objectSpread({},articleOeuvre),{},_defineProperty({},name,value)));};useEffect(function(){GetArticlesOeuvre();},[]);function GetArticlesOeuvre(){axios.get('https://sesameoeuvretoiadmin.herokuapp.com/api/articles-oeuvres').then(function(response){setIsLoading(false);setArticles(response.data.data);console.log(response.data.data);}).catch(function(error){console.log(error);});}var displaySelectClosing=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var select;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:select=document.querySelector(\".select-navbar\");if(select.style.display===\"inline-block\"){select.style.display=\"none\";}else{select.style.display=\"inline-block\";}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function displaySelectClosing(){return _ref3.apply(this,arguments);};}();var displayListNavBarMedia=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var navBarMedia;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:navBarMedia=document.querySelector(\".list-navbar-media\");if(navBarMedia.style.display===\"block\"){navBarMedia.style.display=\"none\";}else{navBarMedia.style.display=\"block\";}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function displayListNavBarMedia(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-sesame\",children:/*#__PURE__*/_jsx(Link,{to:\"/home\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"S\\xE9same \\u0153uvre-toi\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-navbar\",onClick:displayListNavBarMedia,children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-bars\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-navbar-media\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/apropos\",children:/*#__PURE__*/_jsx(\"li\",{className:\"list-navbar-media-1\",children:\"\\xC0 propos\"})}),/*#__PURE__*/_jsx(Link,{to:\"/academie\",children:/*#__PURE__*/_jsx(\"li\",{className:\"list-navbar-media-2\",children:\"J'ouvre les portes de l'acad\\xE9mie\"})}),/*#__PURE__*/_jsx(Link,{to:\"/jedecouvre\",children:/*#__PURE__*/_jsx(\"li\",{className:\"list-navbar-media-3\",children:\"Je d\\xE9couvre\"})}),/*#__PURE__*/_jsx(Link,{to:\"/chronique\",children:/*#__PURE__*/_jsx(\"li\",{className:\"list-navbar-media-4\",children:\"Chronique lifestyle\"})}),/*#__PURE__*/_jsx(Link,{to:\"/oeuvretoi\",children:/*#__PURE__*/_jsx(\"li\",{className:\"list-navbar-media-5\",children:\"Oeuvre-toi\"})}),/*#__PURE__*/_jsx(Link,{to:\"/contact\",children:/*#__PURE__*/_jsx(\"li\",{className:\"list-navbar-media-6\",children:\"Contact\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-desktop\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-sesame\",children:/*#__PURE__*/_jsx(Link,{to:\"/home\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"S\\xE9same \\u0153uvre-toi\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/apropos\",children:/*#__PURE__*/_jsx(\"li\",{children:\"\\xC0 propos\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"li\",{id:\"closing-list-nav\",onClick:displaySelectClosing,children:\"Closing \\u25BF\"}),/*#__PURE__*/_jsx(\"div\",{className:\"select-navbar\",children:/*#__PURE__*/_jsxs(\"ul\",{name:\"closings\",id:\"closings\",children:[/*#__PURE__*/_jsx(Link,{to:\"/academie\",children:/*#__PURE__*/_jsx(\"li\",{children:\"J'ouvre les portes de l'acad\\xE9mie\"})}),/*#__PURE__*/_jsx(Link,{to:\"/jedecouvre\",children:/*#__PURE__*/_jsx(\"li\",{children:\"Je d\\xE9couvre\"})})]})})]}),/*#__PURE__*/_jsx(Link,{to:\"/chronique\",children:/*#__PURE__*/_jsx(\"li\",{children:\"Chronique lifestyle\"})}),/*#__PURE__*/_jsx(Link,{to:\"/oeuvretoi\",children:/*#__PURE__*/_jsx(\"li\",{children:\"Oeuvre-toi\"})}),/*#__PURE__*/_jsx(Link,{to:\"/contact\",children:/*#__PURE__*/_jsx(\"li\",{children:\"Contact\"})})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"oeuvre-toi\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-article-principal-oeuvre\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Oeuvre-toi\"}),/*#__PURE__*/_jsx(\"img\",{className:\"img-arbre-vie\",src:arbreVie,alt:\"image qui illustre un arbre celtique\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"image-media-oeuvre-toi\",children:/*#__PURE__*/_jsx(\"img\",{src:principalImage,alt:\"image principale de la page oeuvre-toi\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"horizontal-carousel-oeuvre\",id:\"horizontal-carousel-oeuvre\",children:isLoading?\"Loading...\":/*#__PURE__*/_jsx(Carousel,{className:\"cards-carousel-oeuvre-toi\",children:articles.map(function(article){return/*#__PURE__*/_jsx(\"a\",{href:\"#\".concat(article.attributes.titleOeuvre),children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-vertical\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"img-vertical-carousel\",src:carouselImage,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-vertical\",children:[/*#__PURE__*/_jsx(\"h3\",{children:article.attributes.titleOeuvre}),/*#__PURE__*/_jsx(ReactMarkdown,{children:article.attributes.contentOeuvre})]})]})});})})})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"display-hr\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"display-hr-media\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Titre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"titleOeuvre\",name:\"titleOeuvre\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Contenu\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",id:\"contentOeuvre\",name:\"contentOeuvre\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Envoyer\",class:\"submit-form\"})]}),isLoading?\"Loading...\":articles.map(function(article){return/*#__PURE__*/_jsx(Link,{to:\"/chronique/\".concat(article.id),children:/*#__PURE__*/_jsxs(\"section\",{className:\"oeuvre-article-details\",children:[/*#__PURE__*/_jsx(\"h3\",{id:article.attributes.titleOeuvre,children:article.attributes.titleOeuvre}),/*#__PURE__*/_jsx(\"img\",{src:articleDetails,alt:\"image qui illustre le d\\xE9tail de l'article\"}),/*#__PURE__*/_jsx(ReactMarkdown,{children:article.attributes.contentOeuvre})]})});})]})]});}export default Oeuvretoi;","map":{"version":3,"sources":["/Users/aline/Desktop/Projects/sesame_project/src/components/oeuvretoi.jsx"],"names":["React","useEffect","useState","ReactMarkdown","Link","axios","Carousel","carouselImage","articleDetails","arbreVie","principalImage","Oeuvretoi","isLoading","setIsLoading","articles","setArticles","articleOeuvre","setArticleOeuvre","handleSubmit","event","preventDefault","post","data","titleOeuvre","contentOeuvre","console","log","error","handleChange","currentTarget","name","value","GetArticlesOeuvre","get","then","response","catch","displaySelectClosing","select","document","querySelector","style","display","displayListNavBarMedia","navBarMedia","map","article","attributes","id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport Carousel from 'react-elastic-carousel';\nimport carouselImage from '../images/ana-frantz-azRS34AdaaM-unsplash.jpg';\nimport articleDetails from '../images/devin-avery-BRVqq2uak4E-unsplash.jpg';\nimport arbreVie from '../images/—Pngtree—celtic life tree decoration pattern_6814309.png';\nimport principalImage from '../images/stefan-stefancik-QXevDflbl8A-unsplash.jpg';\n\nfunction Oeuvretoi() {\n    const [isLoading, setIsLoading] = useState(true);\n    const [articles, setArticles] = useState([]);\n\n    const [articleOeuvre, setArticleOeuvre] = useState({});\n\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        try {\n            const {data} = axios.post('https://sesameoeuvretoiadmin.herokuapp.com/api/articles-oeuvres', {\n                data: {\n                    titleOeuvre: articleOeuvre.titleOeuvre,\n                    contentOeuvre: articleOeuvre.contentOeuvre,               \n                }\n                })\n                console.log(data);\n        } catch(error) {\n            console.log(error);\n        }\n    }\n    \n    const handleChange = ({ currentTarget }) => {\n        const {name, value} = currentTarget;\n        setArticleOeuvre({\n            ...articleOeuvre,\n            [name]: value,\n        })\n    } \n    \n    useEffect(() => {\n        GetArticlesOeuvre();\n    },[])\n\n    function GetArticlesOeuvre() {\n        axios.get('https://sesameoeuvretoiadmin.herokuapp.com/api/articles-oeuvres')\n        .then((response) => {\n            setIsLoading(false);\n            setArticles(response.data.data);\n            console.log(response.data.data)\n        })\n        .catch(error => {\n            console.log(error);\n        })\n    }\n\n    const displaySelectClosing = async () => {\n        let select = document.querySelector(\".select-navbar\");\n\n        if(select.style.display === \"inline-block\") {\n            select.style.display = \"none\";\n        } else {\n            select.style.display = \"inline-block\";\n        }\n    }\n\n    const displayListNavBarMedia = async () => {\n        let navBarMedia = document.querySelector(\".list-navbar-media\");\n        \n        if(navBarMedia.style.display === \"block\") {\n            navBarMedia.style.display = \"none\";\n        } else {\n            navBarMedia.style.display = \"block\";\n        }\n    }\n\n    return (\n        <div>\n            <nav>\n                <div className=\"navbar\">\n                    <div className=\"logo-sesame\">\n                        <Link to=\"/home\"><h1>Sésame œuvre-toi</h1></Link>\n                    </div>\n                    <div className=\"icon-navbar\" onClick={displayListNavBarMedia}>\n                        <i class=\"fas fa-bars\"></i>\n                    </div>\n                </div>\n                <div className=\"list-navbar-media\">\n                    <ul>\n                        <Link to=\"/apropos\"><li className=\"list-navbar-media-1\">À propos</li></Link>\n                        <Link to=\"/academie\"><li className=\"list-navbar-media-2\">J'ouvre les portes de l'académie</li></Link>\n                        <Link to=\"/jedecouvre\"><li className=\"list-navbar-media-3\">Je découvre</li></Link>\n                        <Link to=\"/chronique\"><li className=\"list-navbar-media-4\">Chronique lifestyle</li></Link>\n                        <Link to=\"/oeuvretoi\"><li className=\"list-navbar-media-5\">Oeuvre-toi</li></Link>\n                        <Link to=\"/contact\"><li className=\"list-navbar-media-6\">Contact</li></Link>\n                    </ul>              \n                </div>\n                <div className=\"navbar-desktop\">\n                    <div className=\"logo-sesame\">\n                        <Link to=\"/home\"><h1>Sésame œuvre-toi</h1></Link>\n                    </div>\n                    <div>\n                        <ul>\n                            <Link to=\"/apropos\"><li>À propos</li></Link>\n                            <div>\n                                <li id=\"closing-list-nav\" onClick={displaySelectClosing}>Closing ▿</li>\n                                <div className=\"select-navbar\">\n                                    <ul name=\"closings\" id=\"closings\">\n                                        <Link to=\"/academie\"><li>J'ouvre les portes de l'académie</li></Link>\n                                        <Link to=\"/jedecouvre\"><li>Je découvre</li></Link>\n                                    </ul>\n                                </div>\n                            </div>\n                            <Link to=\"/chronique\"><li>Chronique lifestyle</li></Link>\n                            <Link to=\"/oeuvretoi\"><li>Oeuvre-toi</li></Link>\n                            <Link to=\"/contact\"><li>Contact</li></Link>\n                        </ul>                    \n                    </div>                    \n                </div>\n            </nav>\n\n            <div className=\"oeuvre-toi\">\n                <section>\n                    <div className=\"card-article-principal-oeuvre\">\n                        <div>\n                            <h1>Oeuvre-toi</h1>\n                            <img className=\"img-arbre-vie\" src={arbreVie} alt=\"image qui illustre un arbre celtique\" />\n                        </div>\n                        <div className=\"image-media-oeuvre-toi\">\n                            <img src={principalImage} alt=\"image principale de la page oeuvre-toi\" />\n                        </div>\n                    </div>\n\n                    {/* HORIZONTAL CAROUSEL */}\n                    <div className=\"horizontal-carousel-oeuvre\" id=\"horizontal-carousel-oeuvre\">\n                        {\n                            isLoading ? \"Loading...\" :\n                            <Carousel className=\"cards-carousel-oeuvre-toi\">\n                                {articles.map((article) => \n                                    <a href={`#${article.attributes.titleOeuvre}`}>\n                                        <div className=\"card-vertical\">\n                                            <div>\n                                                <img className=\"img-vertical-carousel\" src={carouselImage} alt=\"\" />\n                                            </div>\n                                            <div className=\"text-vertical\">\n                                                <h3>{article.attributes.titleOeuvre}</h3>\n                                                <ReactMarkdown>{article.attributes.contentOeuvre}</ReactMarkdown>\n                                            </div>\n                                        </div>\n                                    </a>\n                                )}\n                            </Carousel>                     \n                        }\n                    </div>\n                </section>\n\n                <hr className=\"display-hr\" />\n                <hr className=\"display-hr-media\"/>\n\n                <form onSubmit={handleSubmit}>\n                    <label>Titre</label>\n                    <input type=\"text\" id=\"titleOeuvre\" name=\"titleOeuvre\" onChange={handleChange} />\n                    <label>Contenu</label>\n                    <textarea type=\"text\" id=\"contentOeuvre\" name=\"contentOeuvre\" onChange={handleChange} />\n                    <input type=\"submit\" value=\"Envoyer\" class=\"submit-form\" />\n                </form>\n\n                {\n                    isLoading ? \"Loading...\" : \n                    articles.map((article) =>\n                    <Link to={`/chronique/${article.id}`}>\n                        <section className=\"oeuvre-article-details\">\n                            <h3 id={article.attributes.titleOeuvre}>{article.attributes.titleOeuvre}</h3>\n                            <img src={articleDetails} alt=\"image qui illustre le détail de l'article\" />\n                            <ReactMarkdown>{article.attributes.contentOeuvre}</ReactMarkdown>\n                        </section>\n                    </Link>\n                    ) \n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Oeuvretoi;\n"]},"metadata":{},"sourceType":"module"}